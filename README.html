<h1>ng-node-compile</h1>

<p>Compile html templates the angular way, in node js!
this is a pretty new package, so don't hesitate adding issues or pull requests!</p>

<p>Note: this version is for support in Node.jsï¿½. if need to use in io.js, use newer version of package.</p>

<p><code>js
new ngcompile().$interpolate("hello {{name}}")({ name: 'Jhon doe' });
</code></p>

<h2>Install</h2>

<p><code>bash
$ npm install ng-node-compile
</code></p>

<h2>How to Use?</h2>

<p>The library exposes several angular services, which will let you compile angular templates inside node:</p>

<p><strong>ngcompile</strong></p>

<p>this is the function to create a angular enviorment. just
<code>js
var ngEnviorment = new ngcompile([modules],[angularPath],[settings]);
</code></p>

<p>arguments:</p>

<ul>
<li><p>modules: optional. array of modules to inject to angular enviorment.
example: [{name: 'testModule', path: './test.js'}]</p></li>
<li><p>angularPath: optional. path to angular.js file, in case you want another angular version.</p></li>
<li><p>settings: optional. could be used for changing angular's {{ startSymbol and }} endSymbo</p></li>
</ul>

<p><strong>$interpolate:</strong></p>

<p><code>js
var ngcompile = require('ng-node-compile');
var ngEnviorment = new ngcompile();
ngEnviorment.$interpolate("hello {{name}}")({ name: 'Jhon doe' });
</code></p>

<p>this wil return a string "hello Jhon doe"</p>

<p><strong>$compile:</strong></p>

<p><code>js
var ngcompile = require('ng-node-compile');
var ngEnviorment = new ngcompile();
ngEnviorment.$compile("&lt;div ng-repeat=\"n in [1,2,3,4,5]\"&gt;hello {{name}} {{n}}&lt;/div&gt;")({ name: 'Jhon doe' });
</code></p>

<p><strong>using settings</strong>
<code>js
var ngcompile = require('ng-node-compile');
var ngEnviorment = new ngcompile({ startSymbol: '[[', endSymbol: ']]' });
ngEnviorment.$compile("&lt;div class=\"[[name]]\"&gt;hello {{name}}&lt;/div&gt;")({ name: 'active' });
</code>
can also be called with angular modules and angular path arguments:
<code>js
var ngEnviorment = new ngcompile([{ name: 'test', path: './test.js' }], './angular.js', { startSymbol: '[[', endSymbol: ']]' });
</code></p>

<p><strong>async issues</strong>
usualy ng-node-compile should work perfectly in synchronic calls. if You get a "Angular enviorment not yet ready" error,
you could use the onReady function:
<code>js
var ngcompile = require('ng-node-compile');
var ngEnviorment = new ngcompile();
ngEnviorment.onReady(function(){
    ngEnviorment.$interpolate("hello {{name}}")({ name: 'Jhon doe' });
});
</code></p>

<h2>example using express and extra angular moduls:</h2>

<p><strong>app.js:</strong></p>

<p>```js
var express = require('express'),
    ngcompile = require('ng-node-compile');</p>

<p>var ngEnviorment = new ngcompile([{ name: 'test', path: './test.js' }]);
var app = express();</p>

<p>app.get('/', function (req, res) {
    res.send(ngEnviorment.$compile("<div ng-repeat=\"n in [1,2,3,4,5]\" yellow=\"{{n==3}}\">hello {{name}} {{n}}</div>")({ name: 'Jhon doe' }));
});</p>

<p>var server = app.listen(3000);
```
<strong>test.js:</strong></p>

<p><code>js
angular.module('test', [])
.directive('yellow', [function () {
    return {
        restrict: "A",
        replace: false,
        scope: false,
        link: function (scope, element, attr) {
            if (attr['yellow'].toString() === "true") element.css('color', 'yellow')
        }
    }
}])
</code></p>

<p>and the restlt simply looks this way:</p>

<p><img src="https://raw.githubusercontent.com/MoLow/ng-node-compile/master/capture.PNG" alt="result" /></p>

<p>```html</p>

<div ng-repeat="n in [1,2,3,4,5]" yellow="false" class="ng-binding ng-scope">hello Jhon doe 1</div>

<div ng-repeat="n in [1,2,3,4,5]" yellow="false" class="ng-binding ng-scope">hello Jhon doe 2</div>

<div ng-repeat="n in [1,2,3,4,5]" yellow="true" class="ng-binding ng-scope" style="color: yellow;">hello Jhon doe 3</div>

<div ng-repeat="n in [1,2,3,4,5]" yellow="false" class="ng-binding ng-scope">hello Jhon doe 4</div>

<div ng-repeat="n in [1,2,3,4,5]" yellow="false" class="ng-binding ng-scope">hello Jhon doe 5</div>

<p>```</p>
